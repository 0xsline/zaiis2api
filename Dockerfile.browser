FROM mcr.microsoft.com/playwright/python:v1.57.0-jammy

WORKDIR /app

# Ensure pip is upgraded and install dependencies explicitly
RUN pip install --upgrade pip && \
    pip install --no-cache-dir flask requests playwright

COPY browser_server.py .

EXPOSE 5005

CMD ["python", "browser_server.py"]
